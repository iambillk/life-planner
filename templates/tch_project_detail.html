{% extends "base.html" %}

{% block title %}{{ project.name }} - TCH Project{% endblock %}

{% block content %}
<div class="project-detail-container">
    <!-- ==================== PROJECT HEADER SECTION ==================== -->
    <div class="project-header">
        <div class="header-left">
            <h1>{{ project.name }}</h1>
            <div class="project-badges">
                <!-- Status Badge -->
                <span class="status-badge status-{{ project.status }}">{{ project.status|upper }}</span>
                
                <!-- Category Badge -->
                <span class="category-badge category-{{ project.category|lower|replace(' ', '-') }}">
                    <i class="fas fa-tag"></i> {{ project.category }}
                </span>
                
                <!-- Priority Badges (if high or critical) -->
                {% if project.priority == 'critical' %}
                <span class="priority-badge critical">CRITICAL PRIORITY</span>
                {% elif project.priority == 'high' %}
                <span class="priority-badge high">HIGH PRIORITY</span>
                {% endif %}
            </div>
        </div>
        
        <!-- Header Action Buttons -->
        <div class="header-actions">
            <a href="{{ url_for('projects.edit_tch', id=project.id) }}" class="btn btn-secondary">
                <i class="fas fa-edit"></i> Edit Project
            </a>
            <a href="{{ url_for('projects.tch_index') }}" class="btn btn-outline">
                <i class="fas fa-arrow-left"></i> Back to Projects
            </a>
        </div>
    </div>

    <!-- ==================== PROJECT INFO CARDS (Goal, Motivation, Strategy) ==================== -->
    <div class="info-cards">
        {% if project.goal %}
        <div class="info-card">
            <div class="info-card-header">
                <i class="fas fa-bullseye"></i> Goal
            </div>
            <div class="info-card-content">{{ project.goal }}</div>
        </div>
        {% endif %}

        {% if project.motivation %}
        <div class="info-card">
            <div class="info-card-header">
                <i class="fas fa-fire"></i> Motivation
            </div>
            <div class="info-card-content">{{ project.motivation }}</div>
        </div>
        {% endif %}

        {% if project.strategy %}
        <div class="info-card">
            <div class="info-card-header">
                <i class="fas fa-chess"></i> Strategy
            </div>
            <div class="info-card-content">{{ project.strategy }}</div>
        </div>
        {% endif %}
    </div>

    <!-- ==================== PROGRESS AND TIMELINE SECTION ==================== -->
    <div class="progress-section">
        <h2>Progress Overview</h2>
        <div class="progress-container">
            <!-- Progress Bar -->
            <div class="progress-bar-large">
                <div class="progress-fill-large" style="width: {{ project.progress }}%">
                    <span class="progress-text">{{ project.progress }}%</span>
                </div>
            </div>
            
            <!-- Timeline Information -->
            <div class="timeline-info">
                <div class="timeline-item">
                    <i class="fas fa-calendar-plus"></i>
                    Started: {{ project.start_date.strftime('%b %d, %Y') if project.start_date else 'Not set' }}
                </div>
                
                {% if project.deadline %}
                <div class="timeline-item">
                    <i class="fas fa-calendar-check"></i>
                    Deadline: {{ project.deadline.strftime('%b %d, %Y') }}
                    {% if project.deadline < datetime.now().date() and project.status != 'completed' %}
                    <span class="overdue-label">OVERDUE</span>
                    {% endif %}
                </div>
                {% endif %}
                
                {% if project.completed_date %}
                <div class="timeline-item">
                    <i class="fas fa-flag-checkered"></i>
                    Completed: {{ project.completed_date.strftime('%b %d, %Y') }}
                </div>
                {% endif %}
            </div>
        </div>
    </div>

    <!-- ==================== MAIN CONTENT GRID (Tasks, Ideas, Milestones, Notes) ==================== -->
    <div class="content-grid">
        
        <!-- ========== TASKS SECTION ========== -->
        <div class="content-section tasks-section">
            <div class="section-header">
                <h2><i class="fas fa-tasks"></i> Tasks</h2>
                <button class="btn btn-primary btn-sm" onclick="toggleAddTask()">
                    <i class="fas fa-plus"></i> Add Task
                </button>
            </div>

            <!-- Add Task Form (Hidden by default) -->
            <div id="add-task-form" class="add-task-form" style="display: none;">
                <form method="POST" action="{{ url_for('projects.add_tch_task', project_id=project.id) }}">
                    <input type="text" name="title" placeholder="Task title" required>
                    <textarea name="description" placeholder="Description (optional)" rows="2"></textarea>
                    <div class="task-form-row">
                        <select name="category">
                            <option value="">Select Category</option>
                            <option value="Development">Development</option>
                            <option value="Design">Design</option>
                            <option value="Testing">Testing</option>
                            <option value="Documentation">Documentation</option>
                            <option value="Research">Research</option>
                            <option value="Other">Other</option>
                        </select>
                        <select name="priority">
                            <option value="low">Low Priority</option>
                            <option value="medium" selected>Medium Priority</option>
                            <option value="high">High Priority</option>
                        </select>
                        <input type="date" name="due_date" placeholder="Due date">
                    </div>
                    <div class="task-form-actions">
                        <button type="submit" class="btn btn-primary btn-sm">Add Task</button>
                        <button type="button" class="btn btn-secondary btn-sm" onclick="toggleAddTask()">Cancel</button>
                    </div>
                </form>
            </div>

            <!-- Tasks List (Organized by Category) -->
            <div class="tasks-list">
                {% if tasks_by_category %}
                    {% for category, tasks in tasks_by_category.items() %}
                    <div class="task-category">
                        <h3>{{ category }}</h3>
                        {% for task in tasks %}
                        <!-- UPDATED TASK ITEM WITH EDIT/DELETE BUTTONS -->
                        <div class="task-item {% if task.completed %}completed{% endif %}">
                            <!-- Checkbox for completion toggle -->
                            <form method="POST" action="{{ url_for('projects.toggle_tch_task', task_id=task.id) }}" class="task-toggle-form">
                                <input type="checkbox" {% if task.completed %}checked{% endif %} onchange="this.form.submit()">
                            </form>
                            
                            <!-- Task Content -->
                            <div class="task-content">
                                <div class="task-title">{{ task.title }}</div>
                                {% if task.description %}
                                <div class="task-description">{{ task.description }}</div>
                                {% endif %}
                                {% if task.due_date %}
                                <div class="task-meta">
                                    <i class="fas fa-calendar"></i> {{ task.due_date.strftime('%b %d') }}
                                </div>
                                {% endif %}
                            </div>
                            
                        <!-- Task Action Buttons (Edit & Delete) -->
						<div class="task-actions" style="opacity: 1 !important;">
					    		<a href="{{ url_for('projects.edit_tch_task', task_id=task.id) }}" 
								style="padding: 5px 10px; background: #3498db; color: white; text-decoration: none; border-radius: 4px; margin-right: 5px;">
								Edit
							</a>
							<form method="POST" action="{{ url_for('projects.delete_tch_task', task_id=task.id) }}" class="delete-form" style="display: inline;">
								<button type="submit" 
								onclick="return confirm('Delete this task?')" 
								style="padding: 5px 10px; background: #e74c3c; color: white; border: none; border-radius: 4px; cursor: pointer;">
							Delete
						</button>
					</form>
				</div>
                        </div>
                        {% endfor %}
                    </div>
                    {% endfor %}
                {% else %}
                    <p class="empty-state">No tasks yet. Add your first task above!</p>
                {% endif %}
            </div>
		</div>
        
        <!-- ========== IDEAS SECTION ========== -->
        <div class="content-section ideas-section">
            <div class="section-header">
                <h2><i class="fas fa-lightbulb"></i> Ideas</h2>
            </div>

            <!-- Add Idea Form -->
            <form method="POST" action="{{ url_for('projects.add_tch_idea', project_id=project.id) }}" class="quick-add-form">
                <input type="text" name="content" placeholder="Add a new idea..." required>
                <button type="submit" class="btn btn-primary btn-sm">Add</button>
            </form>

            <!-- Ideas List -->
            <div class="ideas-list">
                {% for idea in project.ideas %}
                <div class="idea-item status-{{ idea.status }}">
                    <div class="idea-content">{{ idea.content }}</div>
                    <form method="POST" action="{{ url_for('projects.update_idea_status', idea_id=idea.id) }}" class="idea-status-form">
                        <select name="status" onchange="this.form.submit()">
                            <option value="new" {% if idea.status == 'new' %}selected{% endif %}>New</option>
                            <option value="considered" {% if idea.status == 'considered' %}selected{% endif %}>Considered</option>
                            <option value="implemented" {% if idea.status == 'implemented' %}selected{% endif %}>Implemented</option>
                            <option value="rejected" {% if idea.status == 'rejected' %}selected{% endif %}>Rejected</option>
                        </select>
                    </form>
                </div>
                {% else %}
                <p class="empty-state">No ideas yet. Start brainstorming!</p>
                {% endfor %}
            </div>
        </div>

        <!-- ========== MILESTONES SECTION ========== -->
        <div class="content-section milestones-section">
            <div class="section-header">
                <h2><i class="fas fa-flag"></i> Milestones</h2>
            </div>

            <!-- Add Milestone Form -->
            <form method="POST" action="{{ url_for('projects.add_tch_milestone', project_id=project.id) }}" class="milestone-form">
                <input type="text" name="title" placeholder="Milestone title" required>
                <textarea name="description" placeholder="Description" rows="2"></textarea>
                <input type="date" name="target_date" placeholder="Target date">
                <button type="submit" class="btn btn-primary btn-sm">Add Milestone</button>
            </form>

            <!-- Milestones List -->
            <div class="milestones-list">
                {% for milestone in project.milestones %}
                <div class="milestone-item {% if milestone.completed %}completed{% endif %}">
                    <div class="milestone-header">
                        <h4>{{ milestone.title }}</h4>
                        {% if not milestone.completed %}
                        <form method="POST" action="{{ url_for('projects.complete_milestone', milestone_id=milestone.id) }}">
                            <button type="submit" class="btn btn-success btn-sm">Complete</button>
                        </form>
                        {% else %}
                        <span class="completed-badge"><i class="fas fa-check"></i> Completed</span>
                        {% endif %}
                    </div>
                    {% if milestone.description %}
                    <p>{{ milestone.description }}</p>
                    {% endif %}
                    {% if milestone.target_date %}
                    <div class="milestone-date">
                        <i class="fas fa-calendar-alt"></i> 
                        Target: {{ milestone.target_date.strftime('%b %d, %Y') }}
                    </div>
                    {% endif %}
                </div>
                {% else %}
                <p class="empty-state">No milestones set. Define key project milestones above!</p>
                {% endfor %}
            </div>
        </div>

        <!-- ========== NOTES SECTION ========== -->
        <div class="content-section notes-section">
            <div class="section-header">
                <h2><i class="fas fa-sticky-note"></i> Notes</h2>
            </div>

            <!-- Add Note Form -->
            <form method="POST" action="{{ url_for('projects.add_tch_note', project_id=project.id) }}" class="note-form">
                <textarea name="content" placeholder="Add a note..." rows="3" required></textarea>
                <select name="category">
                    <option value="general">General</option>
                    <option value="meeting">Meeting</option>
                    <option value="technical">Technical</option>
                    <option value="idea">Idea</option>
                </select>
                <button type="submit" class="btn btn-primary btn-sm">Add Note</button>
            </form>

            <!-- Notes List -->
            <div class="notes-list">
                {% for note in project.notes %}
                <div class="note-item">
                    <div class="note-header">
                        <span class="note-category">{{ note.category|title }}</span>
                        <span class="note-date">{{ note.created_at.strftime('%b %d, %Y %I:%M %p') }}</span>
                    </div>
                    <div class="note-content">{{ note.content }}</div>
                </div>
                {% else %}
                <p class="empty-state">No notes yet. Add project notes above!</p>
                {% endfor %}
            </div>
        </div>
    </div>

    <!-- ==================== TODO LISTS SECTION (if any attached) ==================== -->
    {% if project_todos %}
    <div class="todo-lists-section">
        <h2><i class="fas fa-clipboard-list"></i> Attached Todo Lists</h2>
        <div class="todo-lists-grid">
            {% for todo in project_todos %}
            <div class="todo-list-card color-{{ todo.color }}">
                {% if todo.is_pinned %}
                <span class="pinned-badge"><i class="fas fa-thumbtack"></i></span>
                {% endif %}
                <h3>{{ todo.title }}</h3>
                {% if todo.description %}
                <p>{{ todo.description }}</p>
                {% endif %}
                <div class="todo-progress">
                    <div class="progress-bar-small">
                        <div class="progress-fill-small" style="width: {{ todo.completion_percentage }}%"></div>
                    </div>
                    <span>{{ todo.completed_count }}/{{ todo.total_count }} completed</span>
                </div>
                <a href="{{ url_for('todo.view_list', id=todo.id) }}" class="btn btn-sm btn-outline">View List</a>
            </div>
            {% endfor %}
        </div>
    </div>
    {% endif %}

    <!-- ==================== RETROSPECTIVE SECTION (shown only if project is completed) ==================== -->
    {% if project.status == 'completed' and (project.what_worked or project.what_was_hard or project.lessons_learned) %}
    <div class="retrospective-section">
        <h2><i class="fas fa-history"></i> Project Retrospective</h2>
        <div class="retrospective-cards">
            {% if project.what_worked %}
            <div class="retro-card success">
                <h3><i class="fas fa-check-circle"></i> What Worked Well</h3>
                <p>{{ project.what_worked }}</p>
            </div>
            {% endif %}
            {% if project.what_was_hard %}
            <div class="retro-card challenge">
                <h3><i class="fas fa-exclamation-triangle"></i> Challenges Faced</h3>
                <p>{{ project.what_was_hard }}</p>
            </div>
            {% endif %}
            {% if project.lessons_learned %}
            <div class="retro-card learning">
                <h3><i class="fas fa-graduation-cap"></i> Lessons Learned</h3>
                <p>{{ project.lessons_learned }}</p>
            </div>
            {% endif %}
        </div>
    </div>
    {% endif %}
</div>

<!-- ==================== STYLES ==================== -->
<style>
/* ========== CONTAINER & LAYOUT ========== */
.project-detail-container {
    max-width: 1400px;
    margin: 0 auto;
    padding: 20px;
}

/* ========== PROJECT HEADER ========== */
.project-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 30px;
    padding: 25px;
    background: white;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.header-left h1 {
    margin: 0 0 10px 0;
    color: #2c3e50;
}

.project-badges {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
}

.status-badge, .category-badge, .priority-badge {
    padding: 6px 12px;
    border-radius: 4px;
    font-size: 12px;
    font-weight: 600;
    text-transform: uppercase;
}

/* Category-specific colors */
.category-marketing { background: #9b59b6; color: white; }
.category-dc-work { background: #3498db; color: white; }
.category-coding { background: #2ecc71; color: white; }
.category-managerial { background: #e74c3c; color: white; }
.category-sales { background: #f39c12; color: white; }
.category-client-health { background: #1abc9c; color: white; }
.category-operations { background: #34495e; color: white; }
.category-research { background: #16a085; color: white; }
.category-development { background: #27ae60; color: white; }
.category-general { background: #95a5a6; color: white; }

/* Status colors */
.status-planning { background: #95a5a6; color: white; }
.status-active { background: #3498db; color: white; }
.status-on_hold { background: #f39c12; color: white; }
.status-completed { background: #27ae60; color: white; }
.status-cancelled { background: #e74c3c; color: white; }

.priority-badge.critical { background: #e74c3c; color: white; }
.priority-badge.high { background: #f39c12; color: white; }

.header-actions {
    display: flex;
    gap: 10px;
}

/* ========== INFO CARDS ========== */
.info-cards {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    margin-bottom: 30px;
}

.info-card {
    background: white;
    border-radius: 8px;
    padding: 20px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.info-card-header {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 10px;
    color: #34495e;
    font-weight: 600;
}

.info-card-content {
    color: #5d6d7e;
    line-height: 1.6;
}

/* ========== PROGRESS SECTION ========== */
.progress-section {
    background: white;
    border-radius: 8px;
    padding: 25px;
    margin-bottom: 30px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.progress-section h2 {
    margin: 0 0 20px 0;
    color: #2c3e50;
}

.progress-bar-large {
    background: #ecf0f1;
    height: 40px;
    border-radius: 20px;
    overflow: hidden;
    margin-bottom: 20px;
}

.progress-fill-large {
    background: linear-gradient(90deg, #3498db, #2980b9);
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: width 0.3s;
    min-width: 40px;
}

.progress-text {
    color: white;
    font-weight: bold;
}

.timeline-info {
    display: flex;
    gap: 30px;
    flex-wrap: wrap;
}

.timeline-item {
    display: flex;
    align-items: center;
    gap: 8px;
    color: #5d6d7e;
}

.overdue-label {
    background: #e74c3c;
    color: white;
    padding: 2px 6px;
    border-radius: 3px;
    font-size: 11px;
    margin-left: 5px;
}

/* ========== CONTENT GRID ========== */
.content-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
    gap: 20px;
    margin-bottom: 30px;
}

.content-section {
    background: white;
    border-radius: 8px;
    padding: 20px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.section-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
}

.section-header h2 {
    margin: 0;
    color: #2c3e50;
    font-size: 18px;
}

/* ========== TASKS SECTION ========== */
.add-task-form {
    background: #f8f9fa;
    padding: 15px;
    border-radius: 6px;
    margin-bottom: 20px;
}

.add-task-form input,
.add-task-form textarea,
.add-task-form select {
    width: 100%;
    padding: 8px;
    border: 1px solid #ddd;
    border-radius: 4px;
    margin-bottom: 10px;
}

.task-form-row {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 10px;
}

.task-form-actions {
    display: flex;
    gap: 10px;
}

.task-category {
    margin-bottom: 20px;
}

.task-category h3 {
    margin: 0 0 10px 0;
    color: #34495e;
    font-size: 16px;
    border-bottom: 1px solid #ecf0f1;
    padding-bottom: 5px;
}

/* UPDATED TASK ITEM STYLES WITH EDIT/DELETE */
.task-item {
    display: flex;
    align-items: flex-start;
    gap: 10px;
    padding: 10px;
    background: #f8f9fa;
    border-radius: 6px;
    margin-bottom: 8px;
    transition: all 0.3s;
}

.task-item:hover {
    background: #e9ecef;
}

.task-item.completed {
    opacity: 0.6;
}

.task-item.completed .task-title {
    text-decoration: line-through;
}

.task-content {
    flex: 1;
}

.task-title {
    font-weight: 500;
    color: #2c3e50;
}

.task-description {
    font-size: 14px;
    color: #7f8c8d;
    margin-top: 5px;
}

.task-meta {
    font-size: 12px;
    color: #95a5a6;
    margin-top: 5px;
}

/* Task Actions (Edit & Delete buttons) */
.task-actions {
    display: flex;
    gap: 5px;
    opacity: 1;
    transition: opacity 0.3s;
}

.task-item:hover .task-actions {
    opacity: 1;
}

.btn-icon {
    background: none;
    border: none;
    cursor: pointer;
    padding: 5px;
    border-radius: 4px;
    transition: all 0.3s;
}

.btn-icon.edit {
    color: #3498db;
}

.btn-icon.edit:hover {
    background: #3498db;
    color: white;
}

.btn-icon.delete {
    color: #e74c3c;
}

.btn-icon.delete:hover {
    background: #e74c3c;
    color: white;
}

.delete-form {
    display: inline;
}

/* ========== IDEAS SECTION ========== */
.quick-add-form {
    display: flex;
    gap: 10px;
    margin-bottom: 20px;
}

.quick-add-form input {
    flex: 1;
    padding: 8px;
    border: 1px solid #ddd;
    border-radius: 4px;
}

.idea-item {
    background: #f8f9fa;
    padding: 10px;
    border-radius: 6px;
    margin-bottom: 10px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.idea-item.status-implemented {
    background: #d4edda;
}

.idea-item.status-rejected {
    background: #f8d7da;
}

.idea-status-form select {
    padding: 4px 8px;
    border: 1px solid #ddd;
    border-radius: 4px;
    font-size: 12px;
}

/* ========== MILESTONES SECTION ========== */
.milestone-form {
    background: #f8f9fa;
    padding: 15px;
    border-radius: 6px;
    margin-bottom: 20px;
}

.milestone-form input,
.milestone-form textarea {
    width: 100%;
    padding: 8px;
    border: 1px solid #ddd;
    border-radius: 4px;
    margin-bottom: 10px;
}

.milestone-item {
    background: #f8f9fa;
    padding: 15px;
    border-radius: 6px;
    margin-bottom: 10px;
}

.milestone-item.completed {
    background: #d4edda;
}

.milestone-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 10px;
}

.milestone-header h4 {
    margin: 0;
    color: #2c3e50;
}

.completed-badge {
    background: #27ae60;
    color: white;
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 12px;
}

.milestone-date {
    font-size: 13px;
    color: #7f8c8d;
}

/* ========== NOTES SECTION ========== */
.note-form {
    background: #f8f9fa;
    padding: 15px;
    border-radius: 6px;
    margin-bottom: 20px;
}

.note-form textarea,
.note-form select {
    width: 100%;
    padding: 8px;
    border: 1px solid #ddd;
    border-radius: 4px;
    margin-bottom: 10px;
}

.note-item {
    background: #f8f9fa;
    padding: 15px;
    border-radius: 6px;
    margin-bottom: 10px;
}

.note-header {
    display: flex;
    justify-content: space-between;
    margin-bottom: 10px;
    font-size: 12px;
}

.note-category {
    background: #3498db;
    color: white;
    padding: 2px 6px;
    border-radius: 3px;
}

.note-date {
    color: #95a5a6;
}

.note-content {
    color: #5d6d7e;
    line-height: 1.6;
}

/* ========== TODO LISTS ========== */
.todo-lists-section {
    background: white;
    border-radius: 8px;
    padding: 25px;
    margin-bottom: 30px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.todo-lists-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 20px;
    margin-top: 20px;
}

.todo-list-card {
    padding: 15px;
    border-radius: 6px;
    position: relative;
}

.todo-list-card.color-yellow { background: #fff3cd; }
.todo-list-card.color-blue { background: #cfe2ff; }
.todo-list-card.color-green { background: #d1e7dd; }
.todo-list-card.color-red { background: #f8d7da; }

.pinned-badge {
    position: absolute;
    top: 10px;
    right: 10px;
    color: #e74c3c;
}

/* ========== RETROSPECTIVE ========== */
.retrospective-section {
    background: white;
    border-radius: 8px;
    padding: 25px;
    margin-bottom: 30px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.retrospective-cards {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    margin-top: 20px;
}

.retro-card {
    padding: 20px;
    border-radius: 6px;
}

.retro-card.success { background: #d4edda; }
.retro-card.challenge { background: #fff3cd; }
.retro-card.learning { background: #cfe2ff; }

.retro-card h3 {
    margin: 0 0 10px 0;
    color: #2c3e50;
}

/* ========== BUTTONS ========== */
.btn {
    padding: 8px 16px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    text-decoration: none;
    display: inline-block;
    transition: all 0.3s;
}

.btn-primary { background: #3498db; color: white; }
.btn-primary:hover { background: #2980b9; }
.btn-secondary { background: #95a5a6; color: white; }
.btn-secondary:hover { background: #7f8c8d; }
.btn-success { background: #27ae60; color: white; }
.btn-success:hover { background: #229954; }
.btn-outline { background: white; color: #3498db; border: 1px solid #3498db; }
.btn-outline:hover { background: #3498db; color: white; }
.btn-sm { padding: 5px 10px; font-size: 13px; }

/* ========== UTILITY ========== */
.empty-state {
    text-align: center;
    color: #95a5a6;
    padding: 20px;
    font-style: italic;
}

/* ========== RESPONSIVE ========== */
@media (max-width: 768px) {
    .project-header {
        flex-direction: column;
        gap: 15px;
    }
    
    .content-grid {
        grid-template-columns: 1fr;
    }
    
    .task-form-row {
        grid-template-columns: 1fr;
    }
}
</style>

<!-- ==================== JAVASCRIPT ==================== -->
<script>
function toggleAddTask() {
    const form = document.getElementById('add-task-form');
    form.style.display = form.style.display === 'none' ? 'block' : 'none';
}
</script>
{% endblock %}